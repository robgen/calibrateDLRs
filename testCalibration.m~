%% Generate dummy LRgivenIM data based on a set of DLRs

fragMedian = [0.1 0.2 0.4];
fragStd = [0.3 0.3 0.3];
startDLRdata = [[3 20 80]/100, 0.1 0.5 0.3]';

IMstripes = linspace(0.02,0.6,5);

Nsamples = 1000;

% irrelevant - only needed to run the objective function once
dummyLRgivenIM = rand(Nsamples,numel(IMstripes));
Nsamples = size(LRgivenIM, 1);
for im = numel(IMstripes) : -1 : 1
    empiricalMoments(1,im) = mean(LRgivenIM(:,im));
    empiricalMoments(2,im) = var(LRgivenIM(:,im));
    empiricalMoments(3,im) = skewness(LRgivenIM(:,im));
    empiricalMoments(4,im) = kurtosis(LRgivenIM(:,im));
end
weightMoments = ones(size(empiricalMoments,1),1);
% irrelevant - only needed to run the objective function once

% derive LRgivenIM distribution
[~, inputCDFloss] = objectiveFunction(startDLRdata, ...
                        IMstripes, LRgivenIM, empiricalMoments, ...
                        fragMedian, fragStd, ...
                        Nsamples, weightMoments);

% simulate LR consistent with the input LRgivenIM distribution
for im = 1 : numel(IMstripes)
    
  
end
                    
%% Run optimisation based on the dummy data

%% Verify 